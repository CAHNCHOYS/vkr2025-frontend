import{u as E}from"./tests-CiMyz83O.js";import{d as F,u as j,o as D,c as _,a as d,b as i,e,r as n,f as p,w as o,F as g,g as a,h as M,i as r,t as u,m as P}from"./index-BoFnWDe-.js";import"./testService-Sjv4nXop.js";const q={key:0},z={key:1},G={class:"font-weight-bold"},H={class:"pt-4 pb-4 text-h6"},Q=F({__name:"TeacherTests",setup(I){const s=E(),m=j(),h=v=>`/tests/${m.currentTeacher.id}/${v}`;return D(async()=>{await s.loadAllTeacherTests(m.currentTeacher.id)}),(v,t)=>{const k=n("v-progress-linear"),f=n("v-alert"),x=n("v-toolbar-title"),y=n("v-spacer"),c=n("v-btn"),T=n("v-tooltip"),w=n("v-toolbar"),C=n("v-card-title"),b=n("v-divider"),L=n("v-card-text"),S=n("v-card-actions"),B=n("v-card"),N=n("v-col"),$=n("v-row");return r(),_(g,null,[t[7]||(t[7]=d("h2",{class:"text-h2 mb-8 font-weight-bold"},"Созданные тесты",-1)),i(s).isTestsLoading?(r(),_("div",q,[e(k,{height:"10",color:"primary",indeterminate:""})])):(r(),_("div",z,[i(s).isTestsLoadError?(r(),p(f,{key:0,type:"error"},{default:o(()=>t[0]||(t[0]=[a("Ошибка при загрузки тестов, попробуйте позже!")])),_:1})):i(s).teacherTests.length?(r(),p($,{key:1},{default:o(()=>[(r(!0),_(g,null,M(i(s).teacherTests,(l,A)=>(r(),p(N,{key:l.id,sm:"6",md:"4",cols:"12"},{default:o(()=>[e(B,{elevation:"4",class:"pb-2 h-100 d-flex flex-column rounded-0",disabled:i(s).isActionLoading},{default:o(()=>[e(w,{height:"65",color:"indigo"},{default:o(()=>[e(x,null,{default:o(()=>[a("№ "+u(A+1),1)]),_:2},1024),e(y),e(T,{text:"Удалить тест",location:"bottom center","content-class":"bg-red text-white"},{activator:o(({props:V})=>[e(c,P({onClick:()=>i(s).deleteTeacherTest(l.id),color:"white",icon:"mdi-delete",ref_for:!0},V),null,16,["onClick"])]),_:2},1024)]),_:2},1024),e(C,null,{default:o(()=>[t[1]||(t[1]=a(" Название: ")),d("span",G,u(l.name),1)]),_:2},1024),e(L,{class:"flex-grow-1"},{default:o(()=>[e(b,{class:"border-opacity-100",color:"grey"}),d("p",H," Предмет: "+u(l.subjectName||"Обновите для получения данных"),1),e(b,{class:"border-opacity-100",color:"grey"})]),_:2},1024),e(S,{class:"d-flex flex-column"},{default:o(()=>[e(c,{to:h(l.id),block:"",variant:"flat",color:"green","prepend-icon":"mdi-link-variant"},{default:o(()=>t[2]||(t[2]=[a("Перейти к тесту")])),_:2},1032,["to"]),e(c,{to:`/tests/edit/${l.id}`,block:"",variant:"flat",color:"blue","prepend-icon":"mdi-pencil"},{default:o(()=>t[3]||(t[3]=[a("Изменить тест")])),_:2},1032,["to"]),e(c,{to:`/results/${l.id}`,block:"",variant:"flat",color:"deep-purple-lighten-1","prepend-icon":"mdi-account-school-outline"},{default:o(()=>t[4]||(t[4]=[a("Результаты")])),_:2},1032,["to"])]),_:2},1024)]),_:2},1032,["disabled"])]),_:2},1024))),128))]),_:1})):(r(),p(f,{key:2,type:"warning"},{default:o(()=>[t[6]||(t[6]=d("p",{class:"text-h6 mb-1"},"Вы пока не создали ни одного теста!",-1)),d("p",null,[e(c,{to:"/tests",variant:"outlined",color:"white","prepend-icon":"mdi-plus"},{default:o(()=>t[5]||(t[5]=[a("Перейти к созданию")])),_:1})])]),_:1}))]))],64)}}});export{Q as default};
